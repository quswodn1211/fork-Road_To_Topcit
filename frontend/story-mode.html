<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TOPCIT Quest - ìŠ¤í† ë¦¬ëª¨ë“œ</title>
  <style>
    
    /* ========================================
       í—¤ë” (main.html ìŠ¤íƒ€ì¼)
       ======================================== */
    header {
      display: flex;
      align-items: center;
      padding: 10px 50px;
      background: white;
    }

    header a, header a:visited {
      margin: 0 15px;
      text-decoration: none;
      color: #333; 
      font-size: 17px;
    }
    
    .user-links a, .user-links a:visited {
      color: #777;
      font-size: 15px;
    }

    nav {
      margin-left: auto;
      margin-right: auto;
    }
    
    @media (max-width: 900px) {
      header {
        flex-wrap: wrap; 
        padding: 10px 20px; 
      }

      .logo-img {
        width: 100%; 
        text-align: center; 
        margin-bottom: 10px;
      }

      nav {
        width: 100%; 
        text-align: center;
        margin: 10px 0; 
      }

      header a {
        display: inline-block;
        margin: 5px 10px;
      }

      .user-links {
        width: 100%; 
        text-align: center;
      }
    }
/* ========================================
       ë©”ì¸ ì»¨í…Œì´ë„ˆ
       ======================================== */
    .main-container {
      flex: 1;
      max-width: 100%;
      margin: 0;
      padding: 0.5rem;
      display: flex;
      flex-direction: column;
    }

    /* ========================================
       ìŠ¤í† ë¦¬ëª¨ë“œ í”„ë ˆì„
       ======================================== */
    .story-frame {
      flex: 1;
      background: white;
      border-radius: 10px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      padding: 2rem;
      margin-bottom: 0;
      display: flex;
      flex-direction: column;
    }

    .page-title {
      margin: 0 0 0.5rem;
      font-size: 2rem;
      font-weight: 800;
      color: #2c3e50;
      text-align: center;
    }

    .page-subtitle {
      margin: 0 0 2rem;
      color: #6b7280;
      text-align: center;
      font-size: 1.1rem;
    }

    /* ========================================
       ì›”ë“œ ê·¸ë¦¬ë“œ (6ê°œ ë‹¨ì›)
       ======================================== */
    .world-grid {
      flex: 1;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 2rem;
      padding: 1rem 0;
      align-content: center;
    }

    .world-card {
      position: relative;
      background: linear-gradient(135deg, #f8f9fa, #ffffff);
      border: 3px solid #e5e7eb;
      border-radius: 15px;
      padding: 2rem;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
      min-height: 200px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
    }

    .world-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 15px 35px rgba(102, 126, 234, 0.25);
    }

    .world-card.locked {
      opacity: 0.5;
      cursor: not-allowed;
      background: linear-gradient(135deg, #e0e0e0, #f5f5f5);
    }

    .world-card.locked:hover {
      transform: none;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
    }

    .world-number {
      position: absolute;
      top: 15px;
      right: 15px;
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 1.3rem;
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
    }

    .world-icon {
      font-size: 4rem;
      margin-bottom: 1rem;
    }

    .world-name {
      font-size: 1.5rem;
      font-weight: bold;
      color: #2c3e50;
      margin-bottom: 0.5rem;
    }

    .world-progress {
      font-size: 0.9rem;
      color: #6b7280;
      margin-top: 0.5rem;
    }

    .lock-icon {
      font-size: 3rem;
      margin-bottom: 0.5rem;
    }

    /* ì›”ë“œë³„ ìƒ‰ìƒ */
    .world-card[data-world="1"] {
      border-left: 6px solid #667eea;
    }

    .world-card[data-world="2"] {
      border-left: 6px solid #f093fb;
    }

    .world-card[data-world="3"] {
      border-left: 6px solid #4facfe;
    }

    .world-card[data-world="4"] {
      border-left: 6px solid #43e97b;
    }

    .world-card[data-world="5"] {
      border-left: 6px solid #fa709a;
    }

    .world-card[data-world="6"] {
      border-left: 6px solid #feca57;
    }

    /* ========================================
       í‘¸í„°
       ======================================== */
    .footer {
      text-align: center;
      color: rgba(255, 255, 255, 0.7);
      font-size: 0.875rem;
      padding: 1rem 0;
      background: rgba(0, 0, 0, 0.1);
    }

    /* ========================================
       ë°˜ì‘í˜•
       ======================================== */
    @media (max-width: 1024px) {
      .world-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 768px) {
      .nav {
        display: none;
      }
      
      .world-grid {
        grid-template-columns: 1fr;
      }

      .world-card {
        min-height: 150px;
      }
    }
  </style>
</head>
<body>
    <!-- í—¤ë” -->
  <header>
    <div class="logo-img">
      <img src="images/logo.png" alt="ë¡œê³ " style="height:50px; cursor: pointer;" onclick="window.location.href = 'main.html';"> 
    </div>
    <nav>
      <a href="challenge.html">ìŠ¤í‚¬ ì±Œë¦°ì§€</a>
      <a href="guide.html">ì„±ì¥ ê°€ì´ë“œ</a>
      <a href="story.html">ìŠ¤í† ë¦¬ ëª¨ë“œ</a>
    </nav>
    <div class="user-links">
      <a href="login.html">ë¡œê·¸ì¸</a>
      <a href="signup.html">íšŒì›ê°€ì…</a>
    </div>
  </header>

  <!-- ë³¸ë¬¸ -->
  <main class="main-container">
    <div class="story-frame">
      <h1 class="page-title">ğŸ—ºï¸ ìŠ¤í† ë¦¬ ëª¨ë“œ</h1>
      <p class="page-subtitle">ë‹¨ì›ì„ ì„ íƒí•˜ì—¬ ìŠ¤í…Œì´ì§€ë¥¼ ëŒíŒŒí•˜ì„¸ìš”</p>

      <div class="world-grid" id="world-grid">
        <!-- ì›”ë“œ 1 -->
        <div class="world-card" data-world="1" data-unlocked="true">
          <div class="world-number">1</div>
          <div class="world-icon">ğŸ’»</div>
          <div class="world-name">ê¸°ìˆ  ê²½ì˜ ì´í•´</div>
          <div class="world-progress">0/3 ìŠ¤í…Œì´ì§€</div>
        </div>

        <!-- ì›”ë“œ 2 -->
        <div class="world-card locked" data-world="2" data-unlocked="false">
          <div class="world-number">2</div>
          <div class="lock-icon">ğŸ”’</div>
          <div class="world-name">ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ</div>
          <div class="world-progress">ì ê¸ˆë¨</div>
        </div>

        <!-- ì›”ë“œ 3 -->
        <div class="world-card locked" data-world="3" data-unlocked="false">
          <div class="world-number">3</div>
          <div class="lock-icon">ğŸ”’</div>
          <div class="world-name">ë°ì´í„°ë² ì´ìŠ¤</div>
          <div class="world-progress">ì ê¸ˆë¨</div>
        </div>

        <!-- ì›”ë“œ 4 -->
        <div class="world-card locked" data-world="4" data-unlocked="false">
          <div class="world-number">4</div>
          <div class="lock-icon">ğŸ”’</div>
          <div class="world-name">ë„¤íŠ¸ì›Œí¬</div>
          <div class="world-progress">ì ê¸ˆë¨</div>
        </div>

        <!-- ì›”ë“œ 5 -->
        <div class="world-card locked" data-world="5" data-unlocked="false">
          <div class="world-number">5</div>
          <div class="lock-icon">ğŸ”’</div>
          <div class="world-name">ì •ë³´ë³´ì•ˆ</div>
          <div class="world-progress">ì ê¸ˆë¨</div>
        </div>

        <!-- ì›”ë“œ 6 -->
        <div class="world-card locked" data-world="6" data-unlocked="false">
          <div class="world-number">6</div>
          <div class="lock-icon">ğŸ”’</div>
          <div class="world-name">IT í”„ë¡œì íŠ¸ ê´€ë¦¬</div>
          <div class="world-progress">ì ê¸ˆë¨</div>
        </div>
      </div>
    </div>
  </main>

  <footer class="footer">Â© 2025 TOPCIT Quest â€” Story Mode</footer>

  <script>
    // ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì—ì„œ ì§„í–‰ ìƒí™© ë¶ˆëŸ¬ì˜¤ê¸°
    function loadProgress() {
      const savedProgress = localStorage.getItem('storyProgress');
      if (savedProgress) {
        return JSON.parse(savedProgress);
      }
      // ê¸°ë³¸ê°’: ì›”ë“œ 1ë§Œ í•´ê¸ˆ
      return {
        worlds: {
          1: { unlocked: true, stagesCleared: 0 },
          2: { unlocked: false, stagesCleared: 0 },
          3: { unlocked: false, stagesCleared: 0 },
          4: { unlocked: false, stagesCleared: 0 },
          5: { unlocked: false, stagesCleared: 0 },
          6: { unlocked: false, stagesCleared: 0 }
        }
      };
    }

    // ì§„í–‰ ìƒí™© ì €ì¥
    function saveProgress(progress) {
      localStorage.setItem('storyProgress', JSON.stringify(progress));
    }

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì§„í–‰ ìƒí™© ì ìš©
    const progress = loadProgress();

    document.querySelectorAll('.world-card').forEach(card => {
      const worldNum = card.dataset.world;
      const worldData = progress.worlds[worldNum];

      if (worldData.unlocked) {
        card.classList.remove('locked');
        card.dataset.unlocked = 'true';
        
        // ì§„í–‰ ìƒí™© ì—…ë°ì´íŠ¸
        const progressText = card.querySelector('.world-progress');
        progressText.textContent = `${worldData.stagesCleared}/3 ìŠ¤í…Œì´ì§€`;

        // í´ë¦¬ì–´í•œ ê²½ìš° í‘œì‹œ
        if (worldData.stagesCleared === 3) {
          progressText.textContent = 'âœ… ì™„ë£Œ!';
          progressText.style.color = '#43e97b';
          progressText.style.fontWeight = 'bold';
        }
      }
    });

    // ì›”ë“œ ì¹´ë“œ í´ë¦­ ì´ë²¤íŠ¸
    document.querySelectorAll('.world-card').forEach(card => {
      card.addEventListener('click', () => {
        const worldNum = card.dataset.world;
        const isUnlocked = card.dataset.unlocked === 'true';

        if (!isUnlocked) {
          alert('ì´ì „ ì›”ë“œë¥¼ ë¨¼ì € ì™„ë£Œí•´ì£¼ì„¸ìš”! ğŸ”’');
          return;
        }

        // ìŠ¤í…Œì´ì§€ ì„ íƒ í™”ë©´ìœ¼ë¡œ ì´ë™
        window.location.href = `story-stages.html?world=${worldNum}`;
      });
    });

    // í˜¸ë²„ íš¨ê³¼
    document.querySelectorAll('.world-card').forEach(card => {
      card.addEventListener('mouseenter', () => {
        if (card.dataset.unlocked === 'true') {
          card.style.transition = 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)';
        }
      });
    });
  </script>
</body>
</html>
